# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã yield –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ yield from

## üìñ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º –∏ —Ñ—É–Ω–∫—Ü–∏—è–º

- [[#0) –ß—Ç–æ –ø–æ–≤—Ç–æ—Ä–∏–ª–∏ –≤ –Ω–∞—á–∞–ª–µ]](#0-—á—Ç–æ-–ø–æ–≤—Ç–æ—Ä–∏–ª–∏-–≤-–Ω–∞—á–∞–ª–µ)
- [[#1) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä: —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º]](#1-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä-—á—Ç–æ-—ç—Ç–æ-–∏-–∑–∞—á–µ–º)
- [[#2) –ö–∞–∫ —Å–æ–∑–¥–∞—é—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã]](#2-–∫–∞–∫-—Å–æ–∑–¥–∞—é—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã)
- [[#3) –§—É–Ω–∫—Ü–∏—è —Å `yield` –∏ –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç]](#3-—Ñ—É–Ω–∫—Ü–∏—è-—Å-yield-–∏-–∫–∞–∫-–æ–Ω–∞-—Ä–∞–±–æ—Ç–∞–µ—Ç)
- [[#4) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏]](#4-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-—Å-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)
- [[#5) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤ `for`]](#5-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä-–≤-for)
- [[#6) –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã]](#6-–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã)
- [[#7) –ú–µ—Ç–æ–¥ `close()` —É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞]](#7-–º–µ—Ç–æ–¥-close-—É-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞)
- [[#8) `yield from` (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)]](#8-yield-from-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [[#–ó–∞–¥–∞–Ω–∏–µ 1 (countdown)]](#–∑–∞–¥–∞–Ω–∏–µ-1-countdown)
- [[#–ó–∞–¥–∞–Ω–∏–µ 2 (–ø—Ä–æ `yield`)]](#–∑–∞–¥–∞–Ω–∏–µ-2-–ø—Ä–æ-yield)
- [[#–ó–∞–¥–∞–Ω–∏–µ 3 (–ø—Ä–æ `yield from`)]](#–∑–∞–¥–∞–Ω–∏–µ-3-–ø—Ä–æ-yield-from)
- [[#1) –§–∏–ª—å—Ç—Ä —á–∏—Å–µ–ª: –∫—Ä–∞—Ç–Ω—ã–µ 5]](#1-—Ñ–∏–ª—å—Ç—Ä-—á–∏—Å–µ–ª-–∫—Ä–∞—Ç–Ω—ã–µ-5)
- [[#2) –ö–≤–∞–¥—Ä–∞—Ç—ã —á–∏—Å–µ–ª –æ—Ç 1 –¥–æ n]](#2-–∫–≤–∞–¥—Ä–∞—Ç—ã-—á–∏—Å–µ–ª-–æ—Ç-1-–¥–æ-n)
- [[#–î–ó 1) –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –§–∏–±–æ–Ω–∞—á—á–∏]](#–¥–∑-1-–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä-—Ñ–∏–±–æ–Ω–∞—á—á–∏)
- [[#–î–ó 2) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–∞)]](#–¥–∑-2-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä-—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö-—ç–ª–µ–º–µ–Ω—Ç–æ–≤-—Å-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º-–ø–æ—Ä—è–¥–∫–∞)
- [[#–ú–∏–Ω–∏-—à–ø–∞—Ä–≥–∞–ª–∫–∞]](#–º–∏–Ω–∏-—à–ø–∞—Ä–≥–∞–ª–∫–∞)
- [[#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è]](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)


---

## 1) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä: —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º
**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –≤–∏–¥ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç —ç–ª–µ–º–µ–Ω—Ç—ã **–ø–æ –∑–∞–ø—Ä–æ—Å—É**, –Ω–µ –∑–∞–≥—Ä—É–∂–∞—è –≤—Å—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –ø–∞–º—è—Ç—å.

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤
- **–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**: –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∏—Ö –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç.
- **–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏**: –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –≤—Å—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **`yield` –≤–º–µ—Å—Ç–æ `return`**.

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è:
- –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤,
- –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö,
- –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π.

---

## 2) –ö–∞–∫ —Å–æ–∑–¥–∞—é—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
### 2.1 –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
–≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å `yield`:
```py
def gen():
    yield 1
    yield 2

### 2.2 –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
–ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º–∞ –≤ –∫—Ä—É–≥–ª—ã—Ö —Å–∫–æ–±–∫–∞—Ö:
### –í–∞–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

#### 1. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ yield
```python
def simple_gen():
    yield 1
    yield 2
    yield 3

g = simple_gen()
print(next(g))  # 1
print(list(g))  # [2, 3] ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π

# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (–∫–æ—Ä–æ—á–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
squares = (x*x for x in range(10))
print(list(genexpr))  # [0, 1, 4, 9, 16]

# –í–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ return -> StopIteration.value
def ret_gen():
    yield 1
    return 99

g = ret_gen()
print(next(g))  # 1
try:
    next(g)
except StopIteration as e:
    print(e.value)  # 99
```

#### 2. yield from ‚Äî –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É
```python
def sub():
    yield "a"
    yield "b"

def outer():
    yield 1
    yield from sub()  # –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏—é
    yield 2

print(list(outer()))  # [1, 'a', 'b', 2]

# –ü–µ—Ä–µ–¥–∞—á–∞ send/throw/return –≤–≤–µ—Ä—Ö –ø–æ —Ü–µ–ø–æ—á–∫–µ
def accumulator():
    total = 0
    while True:
        x = yield total
        if x is None:
            break
        total += x
    return total

def delegator():
    result = yield from accumulator()
    print(f"–ò—Ç–æ–≥: {result}")

g = delegator()
print(next(g))      # 0 (–ø–µ—Ä–≤—ã–π total)
print(g.send(5))    # 5
print(g.send(7))    # 12
try:
    g.send(None)    # –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ sub-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
except StopIteration:
    pass
```

#### 3. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã vs —Å–ø–∏—Å–∫–∏: –ø–∞–º—è—Ç—å –∏ –ª–µ–Ω–∏–≤–æ—Å—Ç—å
```python
import sys

nums_list = [x for x in range(1_000_000)]
nums_gen = (x for x in range(1_000_000))

print(sys.getsizeof(nums_list))  # –±–æ–ª—å—à–æ–π –æ–±—ä—ë–º
print(sys.getsizeof(nums_gen))   # –º–∞–ª–µ–Ω—å–∫–∏–π ‚Äî —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –Ω–µ –¥–∞–Ω–Ω—ã–µ

# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Ö–æ—Ä–æ—à–∏ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π
```

#### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏: send, throw, close
```python
def greeter():
    name = yield "–ö–æ–≥–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å?"
    while True:
        name = yield f"–ü—Ä–∏–≤–µ—Ç, {name}!"

g = greeter()
print(next(g))           # '–ö–æ–≥–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å?'
print(g.send("–ê–ª–∏—Å–∞"))   # '–ü—Ä–∏–≤–µ—Ç, –ê–ª–∏—Å–∞!'
print(g.send("–ë–æ–±"))     # '–ü—Ä–∏–≤–µ—Ç, –ë–æ–±!'
g.close()                # –ó–∞–∫—Ä—ã—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

# throw - –ø—Ä–æ–±—Ä–æ—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–Ω—É—Ç—Ä—å
def worker():
    try:
        while True:
            item = yield
            print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω {item}")
    except GeneratorExit:
        print("–ó–∞–∫—Ä—ã–≤–∞—é –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä")
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞: {e}")

g = worker()
next(g)
g.send(1)
g.throw(RuntimeError("—É–ø—Å"))
```

### üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

#### –ü—Ä–∏–º–µ—Ä 1: –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –±–ª–æ–∫–∞–º–∏ (streaming)
```python
```
    with open(path, 'rb') as f:
        while chunk := f.read(chunk_size):
            yield chunk

for chunk in read_in_chunks('large.bin', 4096):
    process(chunk)
```

#### –ü—Ä–∏–º–µ—Ä 2: –ü–∞–π–ø–ª–∞–π–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
```python

    for i in range(1, 6):
        yield i

def squares(source):
    for n in source:
        yield n * n

def only_even(source):
    for n in source:
        if n % 2 == 0:
            yield n

pipeline = only_even(squares(numbers()))
print(list(pipeline))  # [4, 16]
```

#### –ü—Ä–∏–º–µ—Ä 3: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º
```python
import itertools as it

def fibonacci():
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b

print(list(it.islice(fibonacci(), 10)))
# [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
```

#### –ü—Ä–∏–º–µ—Ä 4: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å (–∫–æ—Ä–æ—É—Ç–∏–Ω–∞)
```python
---
    total = 0
    count = 0
    avg = None
    while True:
        value = yield avg
        if value is None:
            break
        total += value
        count += 1
        avg = total / count
    return avg

def driver():
    coro = average_coroutine()
    print(next(coro))      # None (–Ω–∞—á–∞–ª—å–Ω–∞—è –æ—Ç–¥–∞—á–∞)
    print(coro.send(10))   # 10.0
    print(coro.send(20))   # 15.0
    try:
        coro.send(None)    # –∑–∞–≤–µ—Ä—à–∏—Ç—å, –≤–µ—Ä–Ω–µ—Ç —á–µ—Ä–µ–∑ StopIteration.value
    except StopIteration as e:
        print("–ò—Ç–æ–≥–æ–≤–æ–µ —Å—Ä–µ–¥–Ω–µ–µ:", e.value)

driver()
```

### üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

**–û—à–∏–±–∫–∞ 1: –°–ª—É—á–∞–π–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤ —Å–ø–∏—Å–æ–∫ (–ø–æ—Ç–µ—Ä—è—Ç—å –ø–∞–º—è—Ç—å/–ª–µ–Ω–∏–≤–æ—Å—Ç—å)**
```python
# ‚ùå list(gen) –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å—ë –≤ –ø–∞–º—è—Ç—å
# ‚úÖ –ò—Ç–µ—Ä–∏—Ä—É–π—Ç–µ—Å—å –ø–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ islice/consume —á–∞—Å—Ç—è–º–∏
```

**–û—à–∏–±–∫–∞ 2: –ü—ã—Ç–∞—Ç—å—Å—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å—á–µ—Ä–ø–∞–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä**
```python

print(list(g))  # [0, 1, 2]
print(list(g))  # [] ‚Äî –ø—É—Å—Ç–æ
```

**–û—à–∏–±–∫–∞ 3: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å StopIteration.value –ø—Ä–∏ return**
```python
def g():
    yield 1
    return 42

gen = g()
try:
    for x in gen:
        print(x)
except StopIteration as e:
    print(e.value)  # 42 ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
```

**–û—à–∏–±–∫–∞ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å yield –≤–Ω—É—Ç—Ä–∏ __init__ –∫–ª–∞—Å—Å–∞**
```python
# ‚ùå __init__ –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º
# –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
```

### üìå –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: generators](https://docs.python.org/3/reference/expressions.html#generator-expressions)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: yield from](https://www.python.org/dev/peps/pep-0380/)
- [PEP 255 - Simple Generators](https://peps.python.org/pep-0255/)
- [PEP 342 - Coroutines via Enhanced Generators](https://peps.python.org/pep-0342/)
- [itertools.islice –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤](https://docs.python.org/3/library/itertools.html#itertools.islice)
## 3) –§—É–Ω–∫—Ü–∏—è —Å `yield` –∏ –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
–§—É–Ω–∫—Ü–∏—è —Å `yield` **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞**.  
–í–∞–∂–Ω–æ: –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ **–µ—â—ë –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** ‚Äî –æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º `next()` –∏–ª–∏ –≤ `for`.

### –ü—Ä–∏–º–µ—Ä (–ª–æ–≥–∏–∫–∞ ‚Äú–ø–∞—É–∑—ã‚Äù –Ω–∞ `yield`)
```py
def generate_values():
    print("–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã")
    yield 1
    print("–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã")
    yield 2
    print("–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã")

gen = generate_values()
print(next(gen))  # –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã -> 1
print(next(gen))  # –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã -> 2
print(next(gen))  # –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã -> StopIteration
```

**–ú–µ—Ö–∞–Ω–∏–∫–∞ `yield`:**
1) –ø–µ—Ä–≤—ã–π `next()` –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–æ –ø–µ—Ä–≤–æ–≥–æ `yield`, –∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞—Ä—É–∂—É;  
2) —Å–ª–µ–¥—É—é—â–∏–π `next()` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç **—Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞**;  
3) –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ ‚Üí `StopIteration`.

---

## 4) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
–ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π.

```py
def count_up_to(n):
    count = 1
    while count <= n:
        yield count
        count += 1

gen = count_up_to(5)
for x in gen:
    print(x)
```

---

## 5) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤ `for`
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–æ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –≤ `for`, –∫–∞–∫ –∏ –ª—é–±–æ–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä: `for` —Å–∞–º –≤—ã–∑—ã–≤–∞–µ—Ç `next()` –¥–æ `StopIteration`.

---

## 6) –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
**–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä** –Ω–∏–∫–æ–≥–¥–∞ —Å–∞–º –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è (–æ–±—ã—á–Ω–æ `while True`). –ï–≥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –≤—Ä—É—á–Ω—É—é.

### –ü—Ä–∏–º–µ—Ä: –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Å—á—ë—Ç—á–∏–∫
```py
def infinite_counter():
    count = 1
    while True:
        yield count
        count += 1

gen = infinite_counter()

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Ä—É—á–Ω—É—é
for n in gen:
    if n > 5:
        break
    print(n)
```

### –ü—Ä–∏–º–µ—Ä: —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
```py
def task_assigner(employees):
    while True:
        for employee in employees:
            yield employee

team = ["Alice", "Bob", "Charlie"]
assigner = task_assigner(team)

for i in range(7):
    print(f"Task {i+1} assigned to: {next(assigner)}")
```

---

## 7) –ú–µ—Ç–æ–¥ `close()` —É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
`close()` **–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç** –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π `next()` –≤—ã–∑–æ–≤–µ—Ç `StopIteration`.

```py
def sensor_data(data):
    for v in data:
        yield v

numbers = [10, 20, 30, 40, 50]
gen = sensor_data(numbers)

for x in gen:
    print("–ü–æ–ª—É—á–µ–Ω–æ:", x)
    if x >= 30:
        print("–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ, –∑–∞–∫—Ä—ã–≤–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä.")
        gen.close()
        break
```

---

## 8) `yield from` (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
`yield from iterable` –ø–µ—Ä–µ–¥–∞—ë—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –¥—Ä—É–≥–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∏–ª–∏ –∏—Ç–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, —É–ø—Ä–æ—â–∞—è ‚Äú–≤–ª–æ–∂–µ–Ω–Ω—ã–µ‚Äù –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã.

### –ü—Ä–∏–º–µ—Ä 1: –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç
```py
def letters():
    yield from "ABC"

gen = letters()
print(next(gen))  # A
print(next(gen))  # B
print(next(gen))  # C
```

### –ü—Ä–∏–º–µ—Ä 2: –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
```py
def process_values(data):
    for value in data:
        yield value * 2

def main_generator(*sequences):
    for seq in sequences:
        yield from process_values(seq)

data1 = [1, 2, 3]
data2 = [10, 15]
for result in main_generator(data1, data2):
    print(result)
```

---

# –ó–∞–¥–∞–Ω–∏—è –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è ‚Äî –æ—Ç–≤–µ—Ç—ã

## –ó–∞–¥–∞–Ω–∏–µ 1 (countdown)
```py
def countdown(n):
    while n > 0:
        yield n
        n -= 1

gen = countdown(3)
print(next(gen))
print(next(gen))
print(next(gen))
print(next(gen))
```
–û—Ç–≤–µ—Ç: **3, 2, 1, StopIteration** (–≤–∞—Ä–∏–∞–Ω—Ç **d**).

## –ó–∞–¥–∞–Ω–∏–µ 2 (–ø—Ä–æ `yield`)
–í–µ—Ä–Ω—ã–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: **a, c, d**
- `yield` –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚úÖ
- –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ ‚úÖ (–ø–æ—Å–ª–µ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è –æ–Ω –ø—É—Å—Ç)
- `yield` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ ‚úÖ

## –ó–∞–¥–∞–Ω–∏–µ 3 (–ø—Ä–æ `yield from`)
–í–µ—Ä–Ω—ã–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: **a, c, d**
- –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–æ–º—É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É ‚úÖ
- –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞ ‚úÖ
- —É–ø—Ä–æ—â–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã ‚úÖ

---

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ ‚Äî —Ä–µ—à–µ–Ω–∏—è

## 1) –§–∏–ª—å—Ç—Ä —á–∏—Å–µ–ª: –∫—Ä–∞—Ç–Ω—ã–µ 5
```py
def filter_by_five(numbers):
    for num in numbers:
        if num % 5 == 0:
            yield num

numbers = [12, 15, 33, 40, 55, 62, 75, 83, 90]
for x in filter_by_five(numbers):
    print(x)
```

## 2) –ö–≤–∞–¥—Ä–∞—Ç—ã —á–∏—Å–µ–ª –æ—Ç 1 –¥–æ n
```py
def square_numbers(n):
    for num in range(1, n + 1):
        yield num ** 2

for s in square_numbers(10):
    print(s)
```

---

# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Äî —Ä–µ—à–µ–Ω–∏—è

## –î–ó 1) –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –§–∏–±–æ–Ω–∞—á—á–∏
–§–∏–±–æ–Ω–∞—á—á–∏: 0, 1, 1, 2, 3, 5, ...

```py
def fibonacci():
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b

gen = fibonacci()
for _ in range(10):
    print(next(gen))
```

## –î–ó 2) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–∞)
```py
def unique_in_order(data):
    seen = set()
    for x in data:
        if x not in seen:
            seen.add(x)
            yield x

data = [3, 1, 2, 3, 4, 1, 5, 2, 6, 7, 5, 8]
for x in unique_in_order(data):
    print(x)
```

---

## –ú–∏–Ω–∏-—à–ø–∞—Ä–≥–∞–ª–∫–∞
```text
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä = –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π ‚Äú–ª–µ–Ω–∏–≤–æ‚Äù –≤—ã–¥–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∑–∞–ø—Ä–æ—Å—É.

yield:
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏ ‚Äú–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç‚Äù –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- —Å–ª–µ–¥—É—é—â–∏–π next() –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è -> StopIteration

–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã:
- while True
- –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é (break, close)

close():
- –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
- —Å–ª–µ–¥—É—é—â–∏–π next() -> StopIteration

yield from iterable:
- –ø–µ—Ä–µ–¥–∞—ë—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ iterable/–¥—Ä—É–≥–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
- —É–ø—Ä–æ—â–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
```


---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

_–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–µ–Ω –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π._
