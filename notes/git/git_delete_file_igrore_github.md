````markdown
# Удалить все PDF из Git во всей ветке (файлы оставить на диске) — Git Bash

Цель: **во всей ветке** убрать `*.pdf` из репозитория (Git перестанет их отслеживать),  
но **файлы останутся на диске**, и дальше можно спокойно делать `git add .`.

> ⚠️ Это удалит PDF **из текущей версии ветки и всех будущих коммитов**,  
> но **не вычистит их из старой истории** (если нужно из истории — это отдельная операция).

---

## 0) Перейти на нужную ветку

```bash
git switch <branch>
# или
git checkout <branch>
````

Если ветка только на origin:

```bash
git fetch origin
git switch -c <branch> --track origin/<branch>
```

---

## 1) (Опционально) проверить, какие PDF сейчас отслеживаются

```bash
git ls-files "*.pdf"
```

Если список есть — значит PDF реально в Git.

---

## 2) Удалить все PDF из индекса (и только из индекса)

### Вариант A (обычно хватает)

```bash
git rm --cached -r -- "*.pdf"
```

- `--cached` — удалить из Git, **не трогая диск**
    
- `-r` — рекурсивно по папкам
    
- `-- "*.pdf"` — шаблон как путь (важно ставить `--`)
    

### Вариант B (если хочешь максимально надёжно)

```bash
git ls-files -z "*.pdf" | xargs -0 git rm --cached
```

Этот вариант удаляет **только те PDF, которые реально отслеживаются**.

---

## 3) Добавить правило в `.gitignore`, чтобы PDF больше не возвращались

В корне репозитория добавь строку:

```gitignore
*.pdf
```

Быстро добавить через Git Bash:

```bash
echo "*.pdf" >> .gitignore
```

(Если хочешь аккуратно — открой `.gitignore` в редакторе и добавь в нужный блок.)

---

## 4) Закоммитить

```bash
git add .gitignore
git commit -m "Remove PDFs from repo (keep on disk) and ignore them"
```

> `git rm --cached ...` уже застейджил удаления, поэтому `git add .` делать не обязательно.  
> Можно, но не нужно.

---

## 5) Запушить в удалённую ветку

```bash
git push
```

Если ещё не был настроен upstream:

```bash
git push -u origin <branch>
```

---

## 6) Можно ли дальше пользоваться `git add .`?

✅ Да. После правила `*.pdf` в `.gitignore`:

- `git add .` **не добавит** PDF обратно
    
- исключение: если сделать `git add -f some.pdf` (force), тогда добавит.
    

---

## 7) Проверка, что всё ок

```bash
git status
git ls-files "*.pdf"     # должно быть пусто
```

---

## 8) Если PDF всё равно “лезут”

Причины обычно две:

1. PDF уже отслеживались и ты не сделал `git rm --cached ...`
    
2. у тебя где-то есть правило, которое переопределяет игнор (например `!something.pdf`)
    

Диагностика:

```bash
git check-ignore -v somefile.pdf
```

---

## Важно: если нужно удалить PDF из ВСЕЙ ИСТОРИИ

Тогда это не `rm --cached`, а переписывание истории (`git filter-repo` и force-push).  
Это опаснее и затронет всех, кто уже клонировал репозиторий.

```

Если назовёшь ветку (например `main` или `feature/...`) и удалённый репозиторий (`origin`?), я могу дать команды уже с конкретными именами и минимальным риском ошибиться.
::contentReference[oaicite:0]{index=0}
```
### git pull origin main --allow-unrelated-histories